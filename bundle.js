!function(t){var e={};function o(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=t,o.c=e,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)o.d(n,r,function(e){return t[e]}.bind(null,r));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o(o.s=1)}([function(t,e,o){},function(t,e,o){"use strict";o.r(e);o(0);var n,r=document.getElementById("playground"),i=r.getContext("2d"),c={x:30,y:15},l=1/c.x*r.width,d=l/2,a=function(t,e,o,n){i.beginPath(),i.arc(t,e,n,0,2*Math.PI),i.fillStyle=o,i.fill()},u={right:{oposite:"left",vector:[1,0]},left:{oposite:"right",vector:[-1,0]},top:{oposite:"bottom",vector:[0,-1]},bottom:{oposite:"top",vector:[0,1]}},y=function(t){if("number"==typeof t)switch(t){case 37:n="left";break;case 38:n="top";break;case 39:n="right";break;case 40:n="bottom"}else n=t},s=function(t,e){var o,r,i={x:t.body[0].x+u[t.direction].vector[0],y:t.body[0].y+u[t.direction].vector[1]},l=(o=i,r={},Object.keys(c).forEach((function(t){o[t]===c[t]?r[t]=1:0===o[t]?r[t]=c[t]-1:r[t]=o[t]})),r);return l.isFood=!1,!t.body.some((function(t){return t.x===l.x&&t.y===l.y}))&&(l.x===e.coords.x&&l.y===e.coords.y&&(l.isFood=!0,document.getElementById("points").innerHTML=t.body.length-3,e.replace(t)),t.body[t.body.length-1].isFood?t.body[t.body.length-1].isFood=!1:t.body.splice(-1,1),t.body.unshift(l),n&&n!==t.direction&&function(t,e){e!==u[t.direction].oposite&&(t.direction=e)}(t,n),!0)},f={coords:{},replace:function(t){f.coords.x=Math.floor(Math.random()*c.x),f.coords.y=Math.floor(Math.random()*c.y),(t.body.some((function(t){return t.x===f.coords.x&&t.y===f.coords.y}))||0===f.coords.x||0===f.coords.y)&&f.replace(t)}},b=f;function m(t){return function(t){if(Array.isArray(t))return p(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return p(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return p(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,n=new Array(e);o<e;o++)n[o]=t[o];return n}var g,h={},v=function(){document.getElementById("points").innerHTML=0,h.direction="right",h.body=[{x:15,y:8,isFood:!1},{x:14,y:8,isFood:!1},{x:13,y:8,isFood:!1},{x:12,y:8,isFood:!1}],h.isAlive=!0,y("right"),b.replace(h),g=setInterval((function(){h.isAlive=s(h,b),h.isAlive||function(){clearInterval(g);var t=m(h.body),e=0,o=setInterval((function(){h.body=e%2?t:[],e<7?e+=1:(clearInterval(o),document.getElementById("playground").style.opacity=.5,document.getElementById("restartBtn").style.display="block")}),175)}()}),175),window.onkeydown=function(t){return y(t.keyCode)}},x=function(t,e){switch(o=h.body.length-1,n=[h.body[o-1].x-h.body[o].x,h.body[o-1].y-h.body[o].y],r=Object.keys(u).map((function(t){return u[t]})),c=r.indexOf(r.find((function(t){return t.vector[0]===n[0]&&t.vector[1]===n[1]}))),Object.keys(u)[c]){case"right":i.moveTo(t+d,e+d),i.lineTo(t+d,e-d),i.lineTo(t-d,e-d+l/2);break;case"left":i.moveTo(t-d,e+d),i.lineTo(t-d,e-d),i.lineTo(t+d,e-d+l/2);break;case"top":i.moveTo(t-d,e-d),i.lineTo(t+d,e-d),i.lineTo(t-d+l/2,e+d);break;case"bottom":i.moveTo(t-d,e+d),i.lineTo(t+d,e+d),i.lineTo(t-d+l/2,e-d)}var o,n,r,c;i.closePath()},k=function(t,e){return a(t,e,"black",l/5)},I=function(t,e){var o=1.5*l,n=o/2;switch(i.fillRect(t-n,e-n,o,o),h.direction){case"right":k(t+o*(1/3),e+(.1*o-d)),k(t+o*(1/3),e-(.1*o-d));break;case"left":k(t-o*(1/3),e+(.1*o-d)),k(t-o*(1/3),e-(.1*o-d));break;case"top":k(t+(.1*o-d),e-o*(1/3)),k(t-(.1*o-d),e-o*(1/3));break;case"bottom":k(t+(.1*o-d),e+o*(1/3)),k(t-(.1*o-d),e+o*(1/3))}},B=function(t,e){i.fillRect(t-d,e-d,l,l)},w=function t(){var e,o;i.clearRect(0,0,r.width,r.height),h.body.forEach((function(t,e){var o=t.x/c.x*r.width,n=t.y/c.y*r.height,d=0===e||e%2?"rgb(0, 102, 0)":"rgb(204, 204, 36)";if(t.isFood&&0!==e)a(o,n,d,l/1.25);else{switch(i.beginPath(),i.fillStyle=d,e){case 0:I(o,n);break;case h.body.length-1:x(o,n);break;default:B(o,n)}i.fill()}})),e=b.coords.x/c.x*r.width,o=b.coords.y/c.y*r.height,a(e,o,"red",l/1.5),window.requestAnimationFrame(t)};v(),document.getElementById("restartBtn").onclick=function(){document.getElementById("restartBtn").style.display="none",document.getElementById("playground").style.opacity=1,v()},document.getElementById("topBtn").onclick=function(){return y("top")},document.getElementById("rightBtn").onclick=function(){return y("right")},document.getElementById("bottomBtn").onclick=function(){return y("bottom")},document.getElementById("leftBtn").onclick=function(){return y("left")},document.body.onload=function(){w(),"ontouchstart"in window&&(document.getElementById("controls").style.display="flex")}}]);